var cov_2pervv9bqu=function(){var path="E:\\Questionner\\server\\controllers\\question.js",hash="a93c9b6550485900e99cfb42e5fe8a83b682865a",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"E:\\Questionner\\server\\controllers\\question.js",statementMap:{"0":{start:{line:1,column:12},end:{line:1,column:26}},"1":{start:{line:2,column:18},end:{line:2,column:48}},"2":{start:{line:5,column:19},end:{line:28,column:5}},"3":{start:{line:30,column:4},end:{line:30,column:41}},"4":{start:{line:33,column:18},end:{line:53,column:1}},"5":{start:{line:57,column:26},end:{line:57,column:52}},"6":{start:{line:58,column:8},end:{line:63,column:9}},"7":{start:{line:59,column:12},end:{line:62,column:15}},"8":{start:{line:64,column:8},end:{line:75,column:9}},"9":{start:{line:65,column:32},end:{line:71,column:13}},"10":{start:{line:73,column:12},end:{line:73,column:40}},"11":{start:{line:74,column:12},end:{line:74,column:78}},"12":{start:{line:79,column:8},end:{line:82,column:11}},"13":{start:{line:86,column:27},end:{line:86,column:80}},"14":{start:{line:86,column:47},end:{line:86,column:79}},"15":{start:{line:87,column:8},end:{line:97,column:9}},"16":{start:{line:88,column:12},end:{line:91,column:15}},"17":{start:{line:93,column:12},end:{line:96,column:15}},"18":{start:{line:101,column:25},end:{line:101,column:82}},"19":{start:{line:101,column:45},end:{line:101,column:81}},"20":{start:{line:102,column:8},end:{line:104,column:9}},"21":{start:{line:103,column:12},end:{line:103,column:64}},"22":{start:{line:105,column:19},end:{line:105,column:46}},"23":{start:{line:106,column:8},end:{line:106,column:18}},"24":{start:{line:107,column:21},end:{line:107,column:42}},"25":{start:{line:108,column:8},end:{line:108,column:17}},"26":{start:{line:109,column:8},end:{line:109,column:39}},"27":{start:{line:110,column:8},end:{line:113,column:11}},"28":{start:{line:117,column:25},end:{line:117,column:82}},"29":{start:{line:117,column:45},end:{line:117,column:81}},"30":{start:{line:118,column:8},end:{line:120,column:9}},"31":{start:{line:119,column:12},end:{line:119,column:64}},"32":{start:{line:121,column:19},end:{line:121,column:46}},"33":{start:{line:122,column:8},end:{line:122,column:18}},"34":{start:{line:123,column:23},end:{line:123,column:44}},"35":{start:{line:124,column:8},end:{line:124,column:19}},"36":{start:{line:125,column:8},end:{line:125,column:41}},"37":{start:{line:126,column:8},end:{line:129,column:11}},"38":{start:{line:133,column:19},end:{line:133,column:42}},"39":{start:{line:134,column:21},end:{line:134,column:67}},"40":{start:{line:134,column:48},end:{line:134,column:66}},"41":{start:{line:135,column:8},end:{line:137,column:9}},"42":{start:{line:136,column:12},end:{line:136,column:80}},"43":{start:{line:138,column:20},end:{line:138,column:43}},"44":{start:{line:139,column:8},end:{line:139,column:33}},"45":{start:{line:140,column:8},end:{line:140,column:71}},"46":{start:{line:144,column:0},end:{line:144,column:26}}},fnMap:{"0":{name:"validateQuestion",decl:{start:{line:4,column:9},end:{line:4,column:25}},loc:{start:{line:4,column:35},end:{line:31,column:1}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:56,column:4},end:{line:56,column:5}},loc:{start:{line:56,column:31},end:{line:76,column:5}},line:56},"2":{name:"(anonymous_2)",decl:{start:{line:78,column:4},end:{line:78,column:5}},loc:{start:{line:78,column:33},end:{line:83,column:5}},line:78},"3":{name:"(anonymous_3)",decl:{start:{line:85,column:4},end:{line:85,column:5}},loc:{start:{line:85,column:35},end:{line:98,column:5}},line:85},"4":{name:"(anonymous_4)",decl:{start:{line:86,column:42},end:{line:86,column:43}},loc:{start:{line:86,column:47},end:{line:86,column:79}},line:86},"5":{name:"(anonymous_5)",decl:{start:{line:100,column:4},end:{line:100,column:5}},loc:{start:{line:100,column:37},end:{line:114,column:5}},line:100},"6":{name:"(anonymous_6)",decl:{start:{line:101,column:40},end:{line:101,column:41}},loc:{start:{line:101,column:45},end:{line:101,column:81}},line:101},"7":{name:"(anonymous_7)",decl:{start:{line:116,column:4},end:{line:116,column:5}},loc:{start:{line:116,column:39},end:{line:130,column:5}},line:116},"8":{name:"(anonymous_8)",decl:{start:{line:117,column:40},end:{line:117,column:41}},loc:{start:{line:117,column:45},end:{line:117,column:81}},line:117},"9":{name:"(anonymous_9)",decl:{start:{line:132,column:4},end:{line:132,column:5}},loc:{start:{line:132,column:36},end:{line:141,column:5}},line:132},"10":{name:"(anonymous_10)",decl:{start:{line:134,column:36},end:{line:134,column:37}},loc:{start:{line:134,column:48},end:{line:134,column:66}},line:134}},branchMap:{"0":{loc:{start:{line:58,column:8},end:{line:63,column:9}},type:"if",locations:[{start:{line:58,column:8},end:{line:63,column:9}},{start:{line:58,column:8},end:{line:63,column:9}}],line:58},"1":{loc:{start:{line:64,column:8},end:{line:75,column:9}},type:"if",locations:[{start:{line:64,column:8},end:{line:75,column:9}},{start:{line:64,column:8},end:{line:75,column:9}}],line:64},"2":{loc:{start:{line:87,column:8},end:{line:97,column:9}},type:"if",locations:[{start:{line:87,column:8},end:{line:97,column:9}},{start:{line:87,column:8},end:{line:97,column:9}}],line:87},"3":{loc:{start:{line:102,column:8},end:{line:104,column:9}},type:"if",locations:[{start:{line:102,column:8},end:{line:104,column:9}},{start:{line:102,column:8},end:{line:104,column:9}}],line:102},"4":{loc:{start:{line:118,column:8},end:{line:120,column:9}},type:"if",locations:[{start:{line:118,column:8},end:{line:120,column:9}},{start:{line:118,column:8},end:{line:120,column:9}}],line:118},"5":{loc:{start:{line:135,column:8},end:{line:137,column:9}},type:"if",locations:[{start:{line:135,column:8},end:{line:137,column:9}},{start:{line:135,column:8},end:{line:137,column:9}}],line:135}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const joi=(cov_2pervv9bqu.s[0]++,require('joi'));const Extension=(cov_2pervv9bqu.s[1]++,require('joi-date-extensions'));function validateQuestion(records){cov_2pervv9bqu.f[0]++;const schema=(cov_2pervv9bqu.s[2]++,{user:joi.string().allow('').trim().strict().min(2).required(),meetup:joi.number().max(5),tittle:joi.string().allow('').trim().strict().min(2).required(),body:joi.string().min(2).allow('').trim().strict().required()});cov_2pervv9bqu.s[3]++;return joi.validate(records,schema);}const Questions=(cov_2pervv9bqu.s[4]++,[{id:1,createOn:'22/08/2014',createdBy:'Olivia',meetup:1,tittle:'machine learning',body:'Network security',votes:23},{id:2,createOn:'12/08/2017',createdBy:'Pascal',meetup:2,tittle:'english learning',body:'improve your speaking',votes:37}]);class question{static registerQ(req,res){cov_2pervv9bqu.f[1]++;const{error}=(cov_2pervv9bqu.s[5]++,validateQuestion(req.body));cov_2pervv9bqu.s[6]++;if(error){cov_2pervv9bqu.b[0][0]++;cov_2pervv9bqu.s[7]++;return res.status(400).send({status:400,error:error.details[0].message});}else{cov_2pervv9bqu.b[0][1]++;}cov_2pervv9bqu.s[8]++;if(!error){cov_2pervv9bqu.b[1][0]++;const newQuestion=(cov_2pervv9bqu.s[9]++,{id:Questions.length+1,user:req.body.user,meetup:req.body.meetup,tittle:req.body.tittle,body:req.body.body});cov_2pervv9bqu.s[10]++;Questions.push(newQuestion);cov_2pervv9bqu.s[11]++;return res.status(200).json({status:200,data:[newQuestion]});}else{cov_2pervv9bqu.b[1][1]++;}}static allquestion(req,res){cov_2pervv9bqu.f[2]++;cov_2pervv9bqu.s[12]++;res.status(200).json({status:200,data:[Questions]});}static getquestionId(req,res){cov_2pervv9bqu.f[3]++;const questionId=(cov_2pervv9bqu.s[13]++,Questions.find(c=>{cov_2pervv9bqu.f[4]++;cov_2pervv9bqu.s[14]++;return c.id===parseInt(req.params.id);}));cov_2pervv9bqu.s[15]++;if(!questionId){cov_2pervv9bqu.b[2][0]++;cov_2pervv9bqu.s[16]++;res.status(404).json({status:404,error:'the user with the given ID was not found'});}else{cov_2pervv9bqu.b[2][1]++;cov_2pervv9bqu.s[17]++;res.status(200).json({status:200,data:[questionId]});}}static upvoteQuestions(req,res){cov_2pervv9bqu.f[5]++;const Question=(cov_2pervv9bqu.s[18]++,Questions.find(c=>{cov_2pervv9bqu.f[6]++;cov_2pervv9bqu.s[19]++;return c.id===parseInt(req.params.id,10);}));cov_2pervv9bqu.s[20]++;if(!Question){cov_2pervv9bqu.b[3][0]++;cov_2pervv9bqu.s[21]++;res.status(404).send('sorry , question not found!');}else{cov_2pervv9bqu.b[3][1]++;}let size=(cov_2pervv9bqu.s[22]++,parseInt(req.params.id,10));cov_2pervv9bqu.s[23]++;size-=1;let upVote=(cov_2pervv9bqu.s[24]++,Questions[size].votes);cov_2pervv9bqu.s[25]++;upVote++;cov_2pervv9bqu.s[26]++;Questions[size].votes=upVote;cov_2pervv9bqu.s[27]++;res.status(200).json({status:200,data:[Question]});}static downvoteQuestions(req,res){cov_2pervv9bqu.f[7]++;const Question=(cov_2pervv9bqu.s[28]++,Questions.find(c=>{cov_2pervv9bqu.f[8]++;cov_2pervv9bqu.s[29]++;return c.id===parseInt(req.params.id,10);}));cov_2pervv9bqu.s[30]++;if(!Question){cov_2pervv9bqu.b[4][0]++;cov_2pervv9bqu.s[31]++;res.status(404).send('sorry , question not found!');}else{cov_2pervv9bqu.b[4][1]++;}let size=(cov_2pervv9bqu.s[32]++,parseInt(req.params.id,10));cov_2pervv9bqu.s[33]++;size-=1;let downvote=(cov_2pervv9bqu.s[34]++,Questions[size].votes);cov_2pervv9bqu.s[35]++;downvote++;cov_2pervv9bqu.s[36]++;Questions[size].votes=downvote;cov_2pervv9bqu.s[37]++;res.status(200).json({status:200,data:[Question]});}static deleteQuestion(req,res){cov_2pervv9bqu.f[9]++;const id=(cov_2pervv9bqu.s[38]++,parseInt(req.params.id));const some=(cov_2pervv9bqu.s[39]++,Questions.find(question=>{cov_2pervv9bqu.f[10]++;cov_2pervv9bqu.s[40]++;return question.id===id;}));cov_2pervv9bqu.s[41]++;if(!some){cov_2pervv9bqu.b[5][0]++;cov_2pervv9bqu.s[42]++;return res.status(404).json({error:'sorry question not found.'});}else{cov_2pervv9bqu.b[5][1]++;}const del=(cov_2pervv9bqu.s[43]++,Questions.indexOf(some));cov_2pervv9bqu.s[44]++;Questions.splice(del,1);cov_2pervv9bqu.s[45]++;return res.json({success:'question removed successfully.'});}}cov_2pervv9bqu.s[46]++;module.exports=question;